@import 'nib'

$borderColor = #eee

quick()
	transition-property: all
	transition-duration: .25s
	transition-timing-function: ease

body
	background: linear-gradient(to right bottom, rgba(0,0,0,.1), rgba(0,0,0,.2))

body.cordova
	height: 100vh
	width: 100vw

.cordova
	.scroll-viewport
		-webkit-overflow-scrolling: touch
		height: 100vh
		width: 100vw
		position: absolute
		overflow: scroll

a
	&:focus
		outline:none
		text-decoration:none

.header-logo
	height:30px
	width:30px
	background-image:url(/images/logo.svg)
	background-size: cover
	background-repeat:no-repeat
	background-position: center center

.container-fluid
	max-width:1024px

.content
	background: linear-gradient(to right bottom, rgba(0,0,0,.1), rgba(0,0,0,.2))
	min-height:100vh
	color:#333

.deleted
	filter: blur(7px)
	pointer-events: none

.left-column
	.digitopia-xsmall &
		margin-bottom:30px
	.not-digitopia-xsmall &
		padding-right:0px

.fold-column
	.digitopia-xsmall &
		margin-bottom:30px

.digitopia-xsmall
	.modal
		position:static
		margin-top: 75px
	.modal-backdrop
		display:none

#splash
	position: fixed
	top:0
	left:0
	right:0
	bottom:0
	background-color:#333
	z-index:99999
	#splash-logo
		margin: 24vh auto
		color:#999
		text-align: center
		font-size: 3em

#content
	margin-top:50px
	.content-padding-top
		padding-top:15px
		padding-bottom:15px

	.mobile-no-gutters
		.digitopia-xsmall &
			padding-right: 0
			padding-left: 0
			.newsfeed-item
				border-radius: 0px
			.row
				margin-right: 0
				margin-left: 0
				& > [class^="col-"], & > [class*=" col-"]
					padding-right: 0
					padding-left: 0

.feed-controls
	margin-bottom:7px
	margin-top:7px

#invite-friend-form
	margin-bottom:30px

.page-header
	.digitopia-xsmall &
		margin:7px

#sidebar
	background-color:#ccc
	text-align:center
	padding:1em
	border: thin solid #eee
	border-radius: 4px
	margin-bottom: 30px
	.digitopia-xsmall &
		margin-right:30px
		margin-left:30px
	.dark-background
		background-color:#333
		margin:-16px
		margin-bottom: 16px
		border-top-left-radius: 4px
		border-top-right-radius: 4px
		color:#999
		padding-bottom:30px
		img
			margin: 30px;
			margin-bottom: 0px;

			width: 25%;

	.page-header
		margin-top:0

#tmks
	text-align:left
	color:#999

.copy-left
	display: inline-block
	text-align: right
	margin: 0px
	transform: scaleX(-1)
	filter: FlipH

#login-form
	display:none

.is-logged-in
	.hidden-logged-in
		display:none!important

.is-logged-out
	.hidden-logged-out
		display:none!important

.profile-photo-viewport
	position:relative
	height:300px
	img
		transition: all 0.5s ease
	.dropzone
		position:absolute
		top:0px!important
		width:100%
		height:300px
		opacity: 0
		transition: all 0.5s ease;
		paddding-top:40%
	.dropzone:hover
		opacity: 0.8
	.loading
		opacity: 1


img.avatar
	border:thick solid white
	position:fixed
	z-index:1030
	border-radius: 75px
	width: 42px
	top: 4px
	right: calc(50% - 25px)
	.modal-open &
		display:none

.profile-hero
	top:0px
	position:fixed
	height:100vh
	width:100vw
	background-size: cover
	background-repeat:no-repeat
	background-position: center center
	z-index:-1
	.text-gradient
		background: linear-gradient(to bottom, rgba(0,0,0,.5) 0%, rgba(0,0,0,0) 100%)
		padding-bottom:50px
	.text-overlay
		margin-top: 50px;
		color:white
		a
			color:white

.profile-parallax
	margin-top:calc(100vh + 50px)
	min-height:calc(100vh - 50px)
	background-color:white

.subnav-tabs
	margin-top:-38px
	border-bottom: none
	li
		a
			background-color:rgba(255,255,255,.6)
			padding:7px
			color:#333

#ajax-status
	position:fixed
	right:10px
	bottom:10px
	z-index:99999
	.alert-container
		margin:0 auto
		text-align:center

.revealer
	padding-left:7px
	font-size:.75em
	cursor:pointer

.form-validation
	.input-relative
		position:relative
		input[type="text"]
			padding-right:30px

	.form-control
		box-shadow: none
		-webkit-box-shadow: none

	.form-control:focus
		box-shadow: none
		-webkit-box-shadow: none

	.input-ok-indicator
		opacity:0
		position:absolute
		right:8px
		top:8px
		color: green

	.input-ok
		.input-ok-indicator
			opacity:1

	.validation-help
		opacity:0
		padding-left:5px
		height:18px
		color: red
		pointer-events:none

	.input-error
		&.touched
			.validation-help
				opacity:.8

			input[type="text"], input[type="password"], input[type="tel"], select
				border: thin solid tomato

	.input-with-icon
		padding-left:25px!important

.comments-list
	.timestamp
		font-size:11px
	.comment-photo
		img
			.not-digitopia-xsmall &,.not-digitopia-small &
				max-height:50vh
			.digitopia-xsmall &, .digitopia-small &
				max-width: 100%
				max-height: auto

.reaction-summary
	background-color: #eee
	.reaction-summary-heading
		padding-right: 4px
		font-size:12px

	.reaction-summary-icons
		padding-right: 4px


#scope-posting-form
	.scope-posting-form
		overflow:visible
		&.focused
			margin-bottom:0px
			.form-group
				margin-bottom:0px
				overflow:hidden
			#form-tab
				.posting-body
					min-height:33vh
					border-radius:0
					border-top-left-radius: 4px
					border-top-right-radius: 4px
	.form-control
		box-shadow: none
		-webkit-box-shadow: none

	.form-control:focus
		box-shadow: none
		-webkit-box-shadow: none
		border-color: $borderColor
	.tabbed
		position:relative
		overflow:auto
		.tabs
			position:absolute
			top:0px
			left:0px
			width:100%
		#form-tab
			background-color:white
			border-radius: 4px;
		#preview-tab
			display:none
			min-height:33vh
			border-top-left-radius: 4px
			border-top-right-radius: 4px
			border: thin solid $borderColor
			padding: 6px 12px
			background-color:white
	.validation-help
		margin-top: -22px
		margin-bottom: 4px
	.tags
		display:none
	.upload-zone
		border:none
		border-left:thin solid $borderColor
		border-right:thin solid $borderColor
		border-bottom:thin solid $borderColor
		min-height:100px
		text-align:center
		display:none
		.dz-preview
			.form-group
				.digitopia-xsmall &
					margin-top:15px
			.metadata
				textarea
					height: 4.8em
					min-height: 1.2em
		.dz-image
			margin:0 auto
			img
				max-height:120px
		.dz-message
			color:#eee
		.dz-remove
			text-align:left
			.digitopia-xsmall &
				text-align: center
		.ui-state-highlight
			height: 120px
			width:140px
			display:inline-block
			margin:16px
	.geo-zone
		padding-bottom: 7px
		position:relative
		display:none
	.autopost-zone
		display:none
		position:relative
	.post-tools
		border-right: thin solid $borderColor
		border-left: thin solid $borderColor
		border-bottom: thin solid $borderColor

		border-bottom-left-radius: 4px
		border-bottom-right-radius: 4px
		padding: 7px
		background-color:white
		margin-bottom:30px
		.button-zone
			padding-bottom:7px

	.comment-button-zone
		padding-top:7px
	.hide-until-subject-focus
		display:none
	.focused .hide-until-subject-focus
		display:block
	.posting-body
		font-family: "Lucida Console", Monaco, monospace
		min-height:2.5em
		padding: 7px
		height:auto
	.focused textarea
		min-height:calc(33vh - 8px)
	label
		color: #666
		font-weight: normal
	.audience-select
		margin-bottom:3px!important
	.checkbox-group
		border-top: thin solid $borderColor
		text-align:center
		label
			font-size: .75em

	#post-upload-button
		margin-left:15px

	#post-geo-button
		margin-left:15px

	#post-preview-button
		margin-left:15px

	#post-autopost-button
		margin-left:15px

.markdown
	h1,h2,h3,h4
		margin-top:0px
		margin-bottom:7px
	h1
		font-size: 26px
		line-height: 32px
	h2
		font-size: 18px
		line-height: 22px
	a
		text-decoration:underline
	b
		color:black
	.in-editor
		pointer-events:none
	blockquote
		font-size:18px
		border-color: #666
	ul
		li
			p
				margin:0

.constrained
	position:relative
	overflow:hidden
	cursor:pointer
	&:after
		font-size: 16px
		text-align: center
		font-weight: bold
		content: "MORE \2193"
		position: absolute
		z-index: 1
		bottom: 0
		left: 0
		width: 100%
		height: 1.5em
		line-height: 1.5em
		color: #eee
		padding-top: 0px
		background-color: rgba(0,0,0,.7)
		border-top: thin dashed #eee

#scope-post-list
	word-wrap: break-word
	.not-digitopia-xsmall &
		min-height: calc(100vh - 50px)
	.newsfeed-item
		background-color:#eee
		border-radius:4px
		.news-summary
			text-align:right
			padding:7px
			font-size:.75em

	.pending
		border: thin dashed yellow

	.post
		background-color:white
		border:thin solid $borderColor
		border-radius:4px
		margin-bottom:15px
		&.loading
			min-height:398px
		.media-heading
			margin-bottom:0
		h4
			.digitopia-xsmall &
				font-size:18px
		.secondary
			font-size: .75em
			color: #999
			a
				color: #999
		.visibility
			display: inline-block
			text-transform:capitalize
		.post-actions
			text-align: right
			button
				border:none
				background-color:rgba(0,0,0,0)
				&:focus
					outline: none
			.dropdown-menu
				font-size: .75em
				text-align:left
				position: absolute
				top: 0px
				right: 20px
				left: -200px

		.permalink
			display: inline-block
		.post-geo
			white-space: nowrap
			overflow: hidden
			text-overflow: ellipsis
			max-width: 250px
		.post-body
			padding-left: 7px
			padding-right: 7px
		.post-photos
			margin-left: 15px
			margin-right: 15px

		.post-identity
			position:relative
			border-bottom:thin solid $borderColor
			padding-bottom:7px
			margin-bottom:7px
			padding-top: 7px
			padding-left: 7px
			padding-right: 7px
			.post-avatar
				.media
					overflow:initial
				.media-body
					overflow:initial
				img
					max-width:75px
					border-radius:4px
			.target-arrow
				margin-left:15px
				margin-right:15px
				color: #999
				font-size:.8em
			.post-timestamp
				margin-top:7px

		.form-group
			margin-bottom:0
		.focused .form-group
			margin-bottom:15px
		.img-thumb
			margin:0
			padding:0
			cursor:pointer
			background: linear-gradient(to right bottom, rgba(0,0,0,.9), rgba(0,0,0,.6))
			&.full-width
				min-height:50vh
			.more-photos
				background-color:rgba(0,0,0,.5)
				color:white
				top:0px
				right:0px
				bottom:0px
				left:0px
				text-align:center
				p
					margin: 40% auto
			.caption
				transition: all 0.5s ease
				padding:10px
				background-color:rgba(0,0,0,.5)
				color:white
				top:0px
				right:0px
				bottom:0px
				left:0px
				opacity:0
				&:hover
					opacity:1
				.caption-text
					position: absolute
					bottom: 0px

.reactions-and-comments
	background-color:#eee
	padding-left:7px
	padding-right: 7px
	padding-bottom: 7px

	.rule
		border-top:thin solid $borderColor

	.comment-container
		h1,h2,h3,h4
			clear:left
		margin-left:37px
		p
			margin: 0 0 7px
		blockquote
			padding: 4px 10px
			font-size: 1em
			border-left: 2px solid #B5E3E3

	.comment-separator
		margin-bottom:7px
		border-top:thin solid #ccc

	.post-reactions
		cursor:pointer
		overflow:hidden
		position:relative
		text-align:right
		font-size:1em
		padding-top:4px
		padding-bottom:4px
		.reaction-button-summary
			display:inline-block
		.reaction-button-container
			position:relative
			display:inline-block
		.greyscale
			filter: grayscale(100%);
		.greyscale.color
			filter: grayscale(0%);

		.reaction-button
			border:thin solid rgba(0,0,0,0)
			border-radius:2px
			cursor:pointer
			&:hover
				border-color:red
			&.selected
				border-color:orange
		.more-reactions
			animation-duration: .35s
			position:absolute
			top: 4px
			left: 0px
			display:none
			background-color: #eee
		.reaction
			.profile-thumb
				width:36px
				border-radius:50%
	.post-comments
		border-top:thin solid #ccc
		padding-top:7px
		.comments-label
			display:block
			cursor:pointer
			padding-bottom:7px
			border-bottom:thin solid #ccc
			padding-bottom:7px
			margin-bottom:7px
			text-align:center
			&:hover
				text-decoration:none
			table
				margin 0 auto
			.badge
				margin-right: 4px
				color:#eee
			.comments-label-text
				padding-right: 4px
				text-transform: uppercase
			.indicator
				padding-left:7px
				&:after
					font-family: 'Glyphicons Halflings'
					content: "\e114"
					color: #FF8166
			&.collapsed
				.indicator
					&:after
						content: "\e080";

		.comment
			.thumb-container
				float:left
			.profile-thumb
				width:30px
				float:left
				margin-right:7px
				margin-bottom:7px
				border-radius:4px
			.profile-link
				margin-right:7px
	.reaction-details
		z-index:-1
		animation-duration: .15s
		display:none
		table
			width:100%
			text-align:left
			td
				padding-right: 7px
		img
			height:20px
			border-radius:50%
			margin-top:5px
			margin-bottom:5px
#fixed-footer
	text-align:center
	.not-digitopia-xsmall &
		display:none
	.digitopia-xsmall &
		position:fixed
		height:40px
		padding:4px
		width:100%
		bottom:0px
		background-color:#333
	.footer-button
		position:relative
		border: thin solid #999
		border-radius: 4px
		display:inline-block
		padding:4px
		color:#666
		margin-right:10px
		&.active
			color:#999
	.activity-count
		position: absolute
		font-size: 9px
		top: -10px
		right: -15px
#news-feed
	position:absolute
	top:calc(100vh + 75px)
	left:0px
	overflow: hidden
	background-color:white
	border-radius:4px
	&.on-screen
		display:block!important
		top:50px!important
		left:0px!important
		margin:0
		margin-bottom:40px
		width:100%!important
	.digitopia-xsmall &
		display: none

	.status
		width:8px
		height:8px
		border-radius:4px
		background-color:green
		margin-top:11px
		margin-right:10px
		.offline &
			background-color:red

	.news-feed-header
		height:30px
		line-height:30px
		padding-left: 10px
		padding-right: 10px
		font-weight:bold
		background-color:#eee
	.news-feed-footer
		height:30px
		line-height:30px
		padding-left: 10px
		padding-right: 10px
		background-color:#eee
		text-align:right
		font-size:.75em
		.digitopia-xsmall &
			display:none
	.news-feed-items
		font-size:.75em
		.not-digitopia-xsmall &.constrained-height
			overflow: hidden
			max-height:calc(100vh - 75px - 60px)
		.news-feed-item
			min-height:50px
			border-bottom:thin dashed $borderColor
			padding-right: 10px
			margin-left:50px
			cursor:pointer
			&.is-new
				background-color:#fee
			img
				height:39px
				border-radius:25px
				margin-top:5px
				margin-bottom:5px
				margin-left:-40px
			div
				padding-left:10px
				display:inline-block
				vertical-align:middle
.menu-icon-placeholder
	width:75px
	position:relative
.menubar-thumb
	position:absolute
	right:16px
	height:42px
	top:4px
	border-radius:21px
	z-index:2000
.friend-card
	margin-bottom:7px
	.friend-controls
		display:none
	&:hover
		.friend-controls
			display:block
	img
		max-width:50px
		border-radius:25px
		border:thick solid white

.loader
	margin:0 auto
	border: 10px solid #f3f3f3;
	border-top: 10px solid #3498db
	border-radius: 50%
	width: 60px
	height: 60px
	animation: spin 2s linear infinite

@keyframes spin
	0% { transform: rotate(0deg); }
	100% { transform: rotate(360deg); }

#geo-pulldown
	.address
		padding-left:.5em
		padding-right:.5em
		cursor:pointer
		&:hover
			background-color:#eee
